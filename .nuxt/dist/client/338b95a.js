(window.webpackJsonp=window.webpackJsonp||[]).push([[4,3],{452:function(e,t,r){e.exports={}},471:function(e,t,r){"use strict";r(452)},479:function(e,t,r){e.exports={}},482:function(e,t,r){"use strict";r.r(t);r(35);var n=r(1),o={__name:"avatar",props:{avatarHref:{type:String,required:!0},frameHref:{type:String,required:!1,default:null},size:{type:[Number,String],default:48}},setup:function(e){var t=e,r=Object(n.a)(function(){return{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")}});return{__sfc:!0,props:t,svgStyle:r}}},c=(r(471),r(84)),component=Object(c.a)(o,function(){var e=this,t=e._self._c;return t("svg",{staticClass:"avatar-svg",style:e._self._setupProxy.svgStyle,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 152 152"}},[t("g",[t("image",{attrs:{x:"14",y:"14",width:"125",height:"125",href:e.avatarHref,"xlink:href":e.avatarHref,preserveAspectRatio:"xMidYMid slice",loading:"lazy"}}),e._v(" "),t("image",{attrs:{x:"0",y:"0",width:"152",height:"152",href:e.frameHref,"xlink:href":e.frameHref,preserveAspectRatio:"none",loading:"lazy"}})])])},[],!1,null,"01b11bdc",null);t.default=component.exports},516:function(e,t,r){"use strict";r(479)},534:function(e,t,r){"use strict";r.r(t);var n=r(214),o=r(435),c=r(474),l=r(451),f=r(478),h=r(538),v=r(533),d=r(536),m=r(212),y=r(307),x=r(211),w=r(135),_=r(117),k=r(436),O=r(527),j=r(530),R=r(529),P=r(484),C=r(528),D=(r(31),r(175),r(2)),S=r(21),$=r(11),I=r(12),H=r(27),E=r(15),B=r(30),A=r(7),W=(r(66),r(36),r(94),r(35),r(19),r(16),r(20),r(24),r(17),r(4),r(58),r(18),r(39),r(209)),z=r(9),M=r(311),N=r(312),T=(r(56),Object(I.a)(function e(){Object($.a)(this,e)}));function K(e){return J.apply(this,arguments)}function J(){return(J=Object(S.a)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,t();case 1:e.next=3;break;case 2:if(e.prev=2,(r=e.catch(0))instanceof T){e.next=3;break}throw r;case 3:case"end":return e.stop()}},e,null,[[0,2]])}))).apply(this,arguments)}var Q=function(){return Object(I.a)(function e(){Object($.a)(this,e),this.timeoutId=null,this.reject=null},[{key:"bind",value:function(e,t){this.timeoutId=e,this.reject=t}},{key:"clear",value:function(){this.timeoutId=null,this.reject=null}},{key:"kill",value:function(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.reject(new T),this.clear())}}])}();function L(e,t){return U.apply(this,arguments)}function U(){return(U=Object(S.a)(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r){e.next=1;break}return e.abrupt("return",new Promise(function(e,n){return r.bind(setTimeout(e,t),n)}));case 1:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){Object(D.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(G=function(){return!!e})()}var V=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(A.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},X=function(e){function t(){var e,r,n,o;return Object($.a)(this,t),r=this,n=t,o=arguments,n=Object(E.a)(n),(e=Object(H.a)(r,G()?Reflect.construct(n,o||[],Object(E.a)(r).constructor):n.apply(r,o))).page=1,e.length=1,e.itemsPerPage=25,e.opts=[10,25,50,100],e.search="",e.bannedReason="",e.ignoreWatchers=!1,e.dialog=!1,e.success=!1,e.EditingBanID=1,e.reasonHistoryDialog=!1,e.headers=[{text:"BanID",align:"start",filterable:!1,value:"id",divider:!0},{text:"Date",value:"created_at",divider:!0},{text:"Offender",value:"SteamID",divider:!0},{text:"Admin",value:"Admin",divider:!0},{text:"Length",value:"ExpiryDate",divider:!0},{text:"Reason",value:"Reason",divider:!0},{text:"Unban Reason",value:"RevokeReason",divider:!0}],e.options={page:1,itemsPerPage:10,sortBy:[],sortDesc:[]},e}return Object(B.a)(t,e),Object(I.a)(t,[{key:"created",value:(v=Object(S.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.searchChangeKillswitch=new Q;case 1:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"mounted",value:function(){1}},{key:"editItem",value:function(e){this.EditingBanID=e}},{key:"bannedReasonChange",value:function(text){this.bannedReason=text}},{key:"viewReasonHistory",value:(h=Object(S.a)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(z.e)(N.default,this.$store),e.next=1,r.getAudits({banID:t});case 1:this.reasonHistoryDialog=!0;case 2:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"audits",get:function(){return Object(z.e)(N.default,this.$store).audits}},{key:"bannedReasonSave",value:(f=Object(S.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=this.bannedReason){e.next=1;break}return e.abrupt("return");case 1:return t=Object(z.e)(M.default,this.$store),e.next=2,t.updateBan({banID:this.EditingBanID,Reason:this.bannedReason});case 2:this.success=e.sent,this.bannedReason="",this.dialog=!1;case 3:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"searchChanged",value:(l=Object(S.a)(regeneratorRuntime.mark(function e(text){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.searchChangeKillswitch.kill(),e.next=1,K(Object(S.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,L(500,t.searchChangeKillswitch);case 1:return e.next=2,t.fetchData({search:text,page:1});case 2:t.ignoreWatchers=!0,t.page=1,t.$router.push({query:F(F({},t.$route.query),{},{page:t.page.toString(),search:text})}),t.ignoreWatchers=!1;case 3:case"end":return e.stop()}},e)})));case 1:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"onItemsPerPageChange",value:(c=Object(S.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.fetchData({itemsPerPage:t});case 1:this.ignoreWatchers=!0,this.$router.push({query:F(F({},this.$route.query),{},{items:t.toString()})}),this.ignoreWatchers=!1;case 2:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"onPageChange",value:(o=Object(S.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,this.fetchData({page:t});case 1:this.ignoreWatchers=!0,this.$router.push({query:F(F({},this.$route.query),{},{page:t.toString()})}),this.ignoreWatchers=!1;case 2:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"onQueryChanged",value:(n=Object(S.a)(regeneratorRuntime.mark(function e(){var t,r,text;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ignoreWatchers){e.next=1;break}return e.abrupt("return");case 1:return t=Number(this.$route.query.page)||1,r=Number(this.$route.query.items)||25,text=String(this.$route.query.search||""),e.next=2,this.fetchData({page:t,itemsPerPage:r,search:text});case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"fetchData",value:(r=Object(S.a)(regeneratorRuntime.mark(function e(){var t,r,n,o,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},c=Object(z.e)(M.default,this.$store),e.next=1,c.gotoPage({page:null!==(r=t.page)&&void 0!==r?r:this.page,items:null!==(n=t.itemsPerPage)&&void 0!==n?n:this.itemsPerPage,search:null!==(o=t.search)&&void 0!==o?o:this.search});case 1:this.length=c.length;case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"formattedTime",value:function(e){for(var t=Math.floor(e),r=[],n=0,o=[{label:"y",value:525600},{label:"mo",value:43200},{label:"w",value:10080},{label:"d",value:1440},{label:"h",value:60},{label:"m",value:1}];n<o.length;n++){var c=o[n],l=Math.floor(t/c.value);l>0&&(r.push("".concat(l).concat(c.label)),t-=l*c.value)}return r.length?r.join(" "):"0m"}},{key:"bans",get:function(){return Object(z.e)(M.default,this.$store).bans}},{key:"totalItems",get:function(){return console.log(Object(z.e)(M.default,this.$store).total),Object(z.e)(M.default,this.$store).total}}]);var r,n,o,c,l,f,h,v}(W.b);V([Object(W.c)("itemsPerPage")],X.prototype,"onItemsPerPageChange",null),V([Object(W.c)("page")],X.prototype,"onPageChange",null),V([Object(W.c)("$route.query")],X.prototype,"onQueryChanged",null);var Z=X=V([Object(W.a)({fetch:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark(function t(){var r,n,o,text;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(z.e)(M.default,e.$store),n=Number(e.$route.query.page)||1,o=Number(e.$route.query.items)||25,text=String(e.$route.query.search||""),t.next=1,r.gotoPage({page:n,items:o,search:text});case 1:e.length=r.length,e.page=n,e.search=text,e.itemsPerPage=o;case 2:case"end":return t.stop()}},t)}))()}})],X),ee=(r(516),r(84)),component=Object(ee.a)(Z,function(){var e=this,t=e._self._c;e._self._setupProxy;return t(h.a,{attrs:{fluid:"",id:"bans-container"}},[t(l.c,[t(P.a,{attrs:{value:e.search,label:"Search bans","append-icon":"mdi-magnify","single-line":"","hide-details":"",clearable:""},on:{input:e.searchChanged}})],1),e._v(" "),t(v.a,{attrs:{headers:e.headers,items:e.bans,search:e.search,"server-items-length":e.totalItems,page:e.page,"items-per-page":e.itemsPerPage,"footer-props":{"items-per-page-options":e.opts}},on:{"update:page":function(t){e.page=t},"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"footer.page-text",fn:function(){return[t(O.a,{staticClass:"my-4",attrs:{length:e.length},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})]},proxy:!0},{key:"item.SteamID",fn:function(r){var n=r.item;return[t("div",{staticClass:"d-flex align-center"},[t("Avatar",{attrs:{"avatar-href":n.banned_user_avatar,"frame-href":n.banned_user_avatar_frame,size:"42"}}),e._v(" "),t("div",[t("div",{staticClass:"font-weight-medium"},[e._v(e._s(n.banned_user_name))]),e._v(" "),t("div",{staticClass:"text--secondary text-caption"},[e._v("\n            "+e._s(n.SteamID)+"\n          ")])])],1)]}},{key:"item.ExpiryDate",fn:function(r){var n=r.item;return[t("div",{staticClass:"d-flex align-center"},[t("div",[t("div",{staticClass:"font-weight-medium"},[e._v(e._s(e.formattedTime(n.ExpiryDate)))])])])]}},{key:"item.Admin",fn:function(r){var o=r.item;return[t("div",{staticClass:"d-flex align-center"},[t(n.a,{staticClass:"mr-2",attrs:{size:"32"}},[t(y.a,{attrs:{src:"/images/console.png"}})],1),e._v(" "),t("div",[t("div",{staticClass:"font-weight-medium"},[e._v(e._s(o.Admin))])])],1)]}},{key:"item.Reason",fn:function(r){var n=r.item;return[t("div",{staticClass:"reason-cell"},[n.ReasonEdited?t(f.a,{attrs:{"x-small":""},on:{click:function(t){return e.viewReasonHistory(n.id)}}},[e._v("\n          Edited\n        ")]):e._e(),e._v(" "),t(d.a,{attrs:{persistent:"","max-width":"600px","retain-focus":!1},model:{value:e.reasonHistoryDialog,callback:function(t){e.reasonHistoryDialog=t},expression:"reasonHistoryDialog"}},[t(c.a,[t(l.c,[t("span",{staticClass:"text-h5"},[e._v("Ban Reason History")])]),e._v(" "),t(l.b,[t(h.a,e._l(e.audits,function(e){return t(C.a,{key:e.id,attrs:{counter:"",label:"Reason",value:e.new_values.Reason,readonly:""}})}),1)],1),e._v(" "),t(l.a,[t(R.a),e._v(" "),t(o.a,{attrs:{text:""},on:{click:function(t){e.reasonHistoryDialog=!1}}},[e._v("\n                Close\n              ")])],1)],1)],1),e._v(" "),t("div",{staticClass:"d-flex align-center justify-space-between"},[t("span",{staticClass:"reason-text"},[e._v("\n            "+e._s(n.Reason)+"\n          ")]),e._v(" "),t(k.a,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,c=r.attrs;return[t(o.a,e._g(e._b({attrs:{icon:""}},"v-btn",c,!1),n),[t(m.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),t(x.a,{attrs:{dense:""}},[t(d.a,{attrs:{persistent:"","max-width":"600px","retain-focus":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[t(w.a,e._g(e._b({on:{click:function(t){return e.editItem(n.id)}}},"v-list-item",c,!1),o),[t(_.b,[e._v("Edit")])],1)]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),t(c.a,[t(l.c,[t("span",{staticClass:"text-h5"},[e._v("Edit Ban Reason")])]),e._v(" "),t(l.b,[t(h.a,[t(C.a,{attrs:{counter:"",label:"Reason",rules:[function(e){return e.length<=255||"Max 255 characters"}],value:n.Reason},on:{input:e.bannedReasonChange}})],1)],1),e._v(" "),t(l.a,[t(R.a),e._v(" "),t(o.a,{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                    Close\n                  ")]),e._v(" "),t(o.a,{attrs:{text:""},on:{click:e.bannedReasonSave}},[e._v("\n                    Save\n                  ")])],1)],1)],1)],1)],1)],1)],1)]}}])}),e._v(" "),t(j.a,{attrs:{color:"success",timeout:"3000",top:""},model:{value:e.success,callback:function(t){e.success=t},expression:"success"}},[e._v("\n  Saved successfully!\n")])],1)},[],!1,null,null,null);t.default=component.exports;installComponents(component,{Avatar:r(482).default})}}]);